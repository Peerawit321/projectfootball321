<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô - Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-image: url('https://wipelectric.com/wp-content/uploads/2021/06/Ref-Trinoi1.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            min-height: 100vh;
            margin: 0;
            font-family: 'Montserrat', sans-serif;
        }

        .content-container {
            background-color: rgba(0, 0, 0, 0.85);
            border-radius: 10px;
            padding: 20px;
            margin: 20px auto;
            width: 90%;
            max-width: 1200px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            color: white;
        }

        .table-auto th,
        .table-auto td {
            text-align: center;
            padding: 12px;
        }

        .btn {
            display: inline-block;
            width: 80px;
            text-align: center;
            padding: 6px 12px;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .btn-approve {
            background-color: #16a34a;
        }

        .btn-approve:hover {
            background-color: #15803d;
        }

        .btn-reject {
            background-color: #dc2626;
        }

        .btn-reject:hover {
            background-color: #b91c1c;
        }

        .status-pending {
            background-color: #fbbf24;
            color: black;
            border-radius: 5px;
            padding: 2px 6px;
        }

        .status-approved {
            background-color: #22c55e;
            border-radius: 5px;
            padding: 2px 6px;
        }

        .status-rejected {
            background-color: #ef4444;
            border-radius: 5px;
            padding: 2px 6px;
        }
    </style>
</head>

<body class="bg-gray-100">
    <div class="content-container">
        <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏≥‡∏ó‡∏≤‡∏á -->
        <div class="flex items-center bg-gray-800 p-4 rounded-lg mb-5">
            <div class="flex-grow text-center">
                <a href="{% url 'home_admin' %}"
                    class="text-white mx-2 font-bold hover:underline border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-600">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
                <a href="{% url 'booking_admin' %}"
                    class="text-white mx-2 font-bold hover:underline border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-600">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</a>
                <!-- <a href="{% url 'Check_field_status' %}"
                    class="text-white mx-2 font-bold hover:underline border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-600">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏ô‡∏≤‡∏°</a> -->
                <a href="{% url 'manage_users' %}"
                    class="text-white mx-2 font-bold hover:underline border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-600">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</a>
                <a href="{% url 'admin_confirm' %}"
                    class="text-white mx-2 mx-2 font-bold hover:underline border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-600">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</a>
                <a href="{% url 'logout' %}"
                    class="text-white mx-2 mx-2 font-bold hover:underline border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-600">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a>
            </div>
        </div>

        <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô -->
        <div class="mb-6">
            <h2 class="text-3xl font-bold text-center text-green-400 mb-4">üí∞ ‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h2>
            <table class="table-auto border-collapse border border-gray-500 w-full text-sm">
                <thead class="bg-gray-700 text-white">
                    <tr>
                        <th class="border border-gray-500">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</th>
                        <th class="border border-gray-500">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á</th>
                        <th class="border border-gray-500">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≥‡∏£‡∏∞</th>
                        <th class="border border-gray-500">‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</th>
                        <th class="border border-gray-500">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                        <th class="border border-gray-500">‡∏™‡∏•‡∏¥‡∏õ‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô</th>
                        <th class="border border-gray-500">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                    </tr>
                </thead>
                <tbody>
                    {% for payment in payments %}
                    <tr class="bg-gray-800 text-white hover:bg-gray-700">
                        <td class="border border-gray-500">{{ payment.booking_id }}</td>
                        <td class="border border-gray-500">{{ payment.booking.user.get_username }}</td>
                        <td class="border border-gray-500">{{ payment.amount }} ‡∏ö‡∏≤‡∏ó</td>
                        <td class="border border-gray-500">
                            {% if payment.payment_method == "cash" %}
                            üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î
                            {% elif payment.payment_method == "credit_card" %}
                            üí≥ ‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï
                            {% else %}
                            üè¶ ‡πÇ‡∏≠‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£
                            {% endif %}
                        </td>
                        <td class="border border-gray-500">
                            {% if payment.status == "pending" %}
                            <span class="status-pending">‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</span>
                            {% elif payment.status == "approved" %}
                            <span class="status-approved">‚úÖ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß</span>
                            {% else %}
                            <span class="status-rejected">‚ùå ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò</span>
                            {% endif %}
                        </td>
                        <td class="border border-gray-500">
                            {% if payment.receipt %}
                                <a href="{{ payment.receipt.url }}" target="_blank">
                                    <img src="{{ payment.receipt.url }}" alt="‡∏™‡∏•‡∏¥‡∏õ" class="h-20 rounded shadow" />
                                </a>
                            {% else %}
                                ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏•‡∏¥‡∏õ
                            {% endif %}
                        </td>
                        
                        <td class="border border-gray-500">
                            {% if payment.status == "pending" %}
                            <div class="flex justify-center space-x-2">
                                <a href="{% url 'approve_payment' payment.payment_id %}" class="btn btn-approve">‚úÖ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</a>
                                <a href="{% url 'reject_payment' payment.payment_id %}" class="btn btn-reject">‚ùå ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò</a>
                            </div>
                            {% else %}
                            <span class="text-gray-400">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="8" class="text-center text-red-400 py-4">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

{{ payment.receipt.url }}
      
</body>

</html>